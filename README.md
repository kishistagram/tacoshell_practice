æœ€é«˜ã€‚READMEã«ãã®ã¾ã¾è²¼ã‚Œã‚‹è¿½è¨˜æ¡ˆã€ç½®ã„ã¦ãŠãã¾ã™ðŸ‘‡

---

## ç”±æ¥ / ãƒ™ãƒ¼ã‚¹

**ã€Œãµã¤ã†ã®Linuxãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€**ã®ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…
[stdlinux2-source/sh2.c](https://github.com/aamine/stdlinux2-source/blob/master/sh2.c)
ã‚’å‚è€ƒã«ã€**ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ã¨æœ€å°é™ã®æ”¹è‰¯**ã‚’è¡Œã£ãŸã‚‚ã®

## ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ï¼ˆæ§‹æˆï¼‰

```
include/
  â””â”€ sh.h            // å…±æœ‰ãƒ˜ãƒƒãƒ€

src/
  â”œâ”€ main.c          // ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ / REPL (prompt)
  â”œâ”€ parse.c         // å…¥åŠ›è¡Œã®è§£æž â†’ é€£çµãƒªã‚¹ãƒˆ(t_cmd)ç”Ÿæˆ
  â”œâ”€ pipeline.c      // ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ç”Ÿæˆãƒ»å®Ÿè¡Œãƒ»å¾…æ©Ÿ
  â”œâ”€ redirect.c      // '>' ã®ã¿ã®å‡ºåŠ›ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  â”œâ”€ builtin_cmd.c   // ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚³ãƒžãƒ³ãƒ‰(cd, pwd, exit)
  â”œâ”€ builtins.c      // builtins_list[] ã®å®šç¾©
  â”œâ”€ cmd_utils.c     // free_cmd / lookup_builtin ãªã©
  â””â”€ utils.c         // xmalloc/xrealloc ã»ã‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```

> ãƒ“ãƒ«ãƒ‰ã¯ä»˜å±žã® Makefileï¼ˆ`make`ï¼‰ã§ `minishell` ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

## å¯¾å¿œã—ã¦ã„ã‚‹æ©Ÿèƒ½

* **ãƒ‘ã‚¤ãƒ—**: `cmd1 | cmd2 | ...`
* **å‡ºåŠ›ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**: `>` ã®ã¿ï¼ˆä¾‹: `... > out.txt`ï¼‰
* **ãƒ“ãƒ«ãƒˆã‚¤ãƒ³**: `cd`, `pwd`, `exit`

## å®Ÿè£…ä¸Šã®æ³¨æ„ç‚¹ / åˆ¶é™

* **Signal ã¯æœªå®Ÿè£…**

  * ãã®ãŸã‚ `Ctrl-C` / `Ctrl-\` ã®æŒ™å‹•ã¯ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ä¾å­˜ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§çµ‚äº†ã™ã‚‹ã“ã¨ã‚ã‚Šï¼‰ã€‚
* **ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¯ `>` ã®ã¿å¯¾å¿œ**ï¼ˆ`>>`, `<`, `<<` ã¯æœªå¯¾å¿œï¼‰
* **ãƒ‘ãƒ¼ã‚µã¯å˜æ–¹å‘é€£çµãƒªã‚¹ãƒˆãƒ™ãƒ¼ã‚¹**

  * 1 ãƒŽãƒ¼ãƒ‰ = 1 ã‚³ãƒžãƒ³ãƒ‰ï¼ˆ`argv` ã‚’ä¿æŒï¼‰
  * æœ«å°¾ã«**æ“¬ä¼¼ãƒŽãƒ¼ãƒ‰ï¼ˆ`argc == -1`ï¼‰**ã‚’ç½®ãã€å³éš£ã®ãƒŽãƒ¼ãƒ‰ã® `argv[0]` ã‚’ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æ‰±ã†
  * **æœ€å°å®Ÿè£…**ã®ãŸã‚ã€ã‚¯ã‚©ãƒ¼ãƒˆå±•é–‹/å¤‰æ•°å±•é–‹/ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãªã©ã¯æœªå¯¾å¿œ

## ä½¿ã„æ–¹ï¼ˆä¾‹ï¼‰

```sh
$ pwd
/path/to/project

$ ls | grep .c > list.txt
$ cat list.txt
main.c
parse.c
...

$ cd src
$ pwd
/path/to/project/src

$ exit
```

## ä»Šå¾Œã®æ‹¡å¼µå€™è£œ

* `>>`, `<`, `<<`ï¼ˆheredocï¼‰ãªã©ã®å„ç¨®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
* Signal ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¸­ã® Ctrl-C ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ‰±ã„ã«ã™ã‚‹ç­‰ï¼‰
* ãƒ‘ãƒ¼ã‚µã‚’ AST/ãƒŽãƒ¼ãƒ‰ç¨®åˆ¥ï¼ˆenumï¼‰ã«æ‹¡å¼µã—ã¦ä¿å®ˆæ€§å‘ä¸Š
* ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®è¿½åŠ ï¼ˆ`export`, `unset`, `env` ãªã©ï¼‰

---
